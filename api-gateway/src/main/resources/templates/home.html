<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roflogram - Пульс сети</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<div class="neon-container">
    <!-- Верхняя панель -->
    <header class="flux-header">
        <div class="flux-brand">Roflogram</div>
        <div class="search-core">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Сканировать сеть...">
            <div id="searchResults" class="search-output"></div>
        </div>
        <div class="user-core">
            <div class="user-node" id="username-initial"></div>
            <span id="username"></span>
            <button id="logoutBtn" class="logout-node">Выход</button>
        </div>
    </header>

    <!-- Основной интерфейс -->
    <div class="flux-grid">
        <!-- Навигация -->
        <nav class="nav-matrix">
            <button class="matrix-node active" id="forYouBtn" data-section="feed"><i class="fas fa-fire"></i> Поток</button>
            <button class="matrix-node" id="followingBtn" data-section="feed"><i class="fas fa-users"></i> Ядра</button>
            <button class="matrix-node" data-section="explore"><i class="fas fa-compass"></i> Сфера</button>
            <button class="matrix-node" data-section="notifications"><i class="fas fa-bell"></i> Сигналы</button>
            <button class="matrix-node" data-section="messages"><i class="fas fa-envelope"></i> Импульсы</button>
            <a href="#" class="matrix-node" id="profileLink"><i class="fas fa-user"></i> Нода</a>
            <button id="createPostBtn" class="matrix-node create-node"><i class="fas fa-plus"></i> Эмиссия</button>
        </nav>

        <!-- Основной контент -->
        <main class="content-flux">
            <section id="feedSection" class="flux-section active">
                <div id="postsContainer" class="posts-flux"></div>
            </section>
            <section id="exploreSection" class="flux-section">
                <h2>Сфера активности</h2>
                <div class="explore-matrix"></div>
            </section>
            <section id="notificationsSection" class="flux-section">
                <h2>Сигналы сети</h2>
                <div class="notifications-flux"></div>
            </section>
            <section id="messagesSection" class="flux-section">
                <h2>Импульсы</h2>
                <div class="messages-flux"></div>
            </section>
        </main>

        <!-- Боковая панель -->
        <aside class="side-flux">
            <div class="trends-core">
                <h3>Энергия сети</h3>
                <div id="trendsContainer" class="trends-flux"></div>
            </div>
            <div class="suggestions-core">
                <h3>Ноды для связи</h3>
                <div id="suggestedUsers" class="suggestions-flux"></div>
            </div>
        </aside>
    </div>

    <!-- Модальное окно создания поста -->
    <div id="postModal" class="modal">
        <div class="modal-core">
            <div class="modal-head">
                <h2>Эмиттировать импульс</h2>
                <button id="cancelPost" class="close-node">×</button>
            </div>
            <textarea id="postText" maxlength="250" placeholder="Ваш сигнал..."></textarea>
            <div class="char-counter"><span id="charCount">0</span>/250</div>
            <div id="mediaPreview" class="media-flux" style="display: none;">
                <div id="previewContainer" class="preview-flux"></div>
                <button id="removeMediaBtn" class="remove-node"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-actions">
                <button id="attachImageBtn" class="attach-node"><i class="fas fa-paperclip"></i></button>
                <input type="file" id="postMediaUpload" accept="image/*,video/*" multiple hidden>
                <button id="submitPost" class="submit-node">Эмиттировать</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно удаления -->
    <div id="deleteModal" class="modal">
        <div class="modal-core delete-core">
            <h2>Уничтожить импульс?</h2>
            <p>Это необратимо.</p>
            <div class="modal-actions">
                <button id="cancelDelete" class="cancel-node">Отмена</button>
                <button id="confirmDelete" class="delete-node">Уничтожить</button>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/home.js}"></script>
</body>
</html>